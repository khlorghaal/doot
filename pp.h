#pragma once

//the c preprocessor is turing complete if provided with sufficient symbols
//inspired by cppcomplete@orangeduck

#define VOID 
#define QUOT(S) S VOID
#define EVAL(S) S

#define FOM FOM##N
#define FOM1 (F,OP, L0) F(L0)
#define FOM2 (F,OP, L0,L1) F(L0) OP F(L1)
#define FOM3 (F,OP, L0,L1,L2) F(L0) OP F(L1) OP F(L2) 
#define FOM4 (F,OP, L0,L1,L2,L3) F(L0) OP F(L1) OP F(L2) OP F(L3)
#define FOM5 (F,OP, L0,L1,L2,L3,L4) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4)
#define FOM6 (F,OP, L0,L1,L2,L3,L4,L5) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5)
#define FOM7 (F,OP, L0,L1,L2,L3,L4,L5,L6) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6)
#define FOM8 (F,OP, L0,L1,L2,L3,L4,L5,L6,L7) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7)
/*#define FOM9 (F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8)
#define FOM10(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9)
#define FOM11(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10)
#define FOM12(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11)
#define FOM13(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) 
#define FOM14(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13)
#define FOM15(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14)
#define FOM16(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15)
#define FOM17(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16)
#define FOM18(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17)
#define FOM19(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18)
#define FOM20(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19)
#define FOM21(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20)
#define FOM22(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21)
#define FOM23(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22)
#define FOM24(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23)
#define FOM25(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24)
#define FOM26(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24,L25) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24) LOP F(25)
#define FOM27(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24,L25,L26) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24) LOP F(25) LOP F(26)
#define FOM28(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24,L25,L26,L27) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24) LOP F(25) LOP F(26) LOP F(27)
#define FOM29(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24,L25,L26,L27,L28) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24) LOP F(25) LOP F(26) LOP F(27) LOP F(28)
#define FOM30(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24,L25,L26,L27,L28,L29) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24) LOP F(25) LOP F(26) LOP F(27) LOP F(28) LOP F(29)
#define FOM31(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24,L25,L26,L27,L28,L29,L30) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24) LOP F(25) LOP F(26) LOP F(27) LOP F(28) LOP F(29) LOP F(30)
#define FOM32(F,OP, L0,L1,L2,L3,L4,L5,L6,L7,L8,L9,L10,L11,L12,L13,L14,L15,L16,L17,L18,L19,L20,L21,L22,L23,L24,L25,L26,L27,L28,L29,L30,L31) F(L0) OP F(L1) OP F(L2) OP F(L3) OP F(L4) OP F(L5) OP F(L6) OP F(L7) OP F(L8) OP F(L9) LOP F(10) LOP F(11) LOP F(12) LOP F(13) LOP F(14) LOP F(15) LOP F(16) LOP F(17) LOP F(18) LOP F(19) LOP F(20) LOP F(21) LOP F(22) LOP F(23) LOP F(24) LOP F(25) LOP F(26) LOP F(27) LOP F(28) LOP F(29) LOP F(30) LOP F(31)
*/
#define IOTA(N) IOTA##N
#define IOTA1  0
#define IOTA2  0, 1
#define IOTA3  0, 1, 2,
#define IOTA4  0, 1, 2, 3
#define IOTA5  0, 1, 2, 3, 4
#define IOTA6  0, 1, 2, 3, 4, 5
#define IOTA7  0, 1, 2, 3, 4, 5, 6
#define IOTA8  0, 1, 2, 3, 4, 5, 6, 7
/*#define IOTA9  0, 1, 2, 3, 4, 5, 6, 7, 8
#define IOTA10 0, 1, 2, 3, 4, 5, 6, 7, 8, 9
#define IOTA11 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10,
#define IOTA12 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,
#define IOTA13 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12,
#define IOTA14 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13,
#define IOTA15 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14,
#define IOTA16 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
#define IOTA17 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16,
#define IOTA18 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17,
#define IOTA19 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18,
#define IOTA20 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19,
#define IOTA21 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20,
#define IOTA22 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,
#define IOTA23 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22,
#define IOTA24 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23,
#define IOTA25 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24,
#define IOTA26 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25,
#define IOTA27 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26,
#define IOTA28 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27,
#define IOTA29 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28,
#define IOTA30 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29,
#define IOTA31 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30,
#define IOTA32 0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31,
*/
#define TRIANGLE(N) FOM##N( IOTA,VOID,IOTA##N )

#define VARIAD(X)  FOM8(X, VOID, TRIANGLE(8))
